{"version":3,"file":"src_app_Map_Map_module_ts.js","mappings":"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","sources":["./src/app/Map/Map.module.ts","./src/app/Map/Map.ts","./src/app/Map/Map.scss"],"sourcesContent":["import {\n    NgModule\n} from '@angular/core';\nimport {\n    CommonModule\n} from '@angular/common';\nimport {\n    FormsModule\n} from '@angular/forms';\nimport {\n    RouterModule\n} from '@angular/router';\nimport {\n    IonicModule\n} from '@ionic/angular';\nimport {\n    ApperyioTranslateModule\n} from '../scripts/apperyio/translate_module';\nimport {\n    ApperyioDeclarablesModule\n} from '../scripts/apperyio/declarables/apperyio.declarables.module';\nimport {\n    AgmCoreModule\n} from '@agm/core';\nimport {\n    Map\n} from './Map';\nimport {\n    PipesModule\n} from '../scripts/pipes.module';\nimport {\n    DirectivesModule\n} from '../scripts/directives.module';\nimport {\n    ComponentsModule\n} from '../scripts/components.module';\nimport {\n    CustomComponentsModule\n} from '../scripts/custom-components.module';\nimport {\n    CustomModulesModule\n} from '../scripts/custom-modules.module';\n@NgModule({\n    declarations: [\n        Map\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        AgmCoreModule,\n        PipesModule,\n        DirectivesModule,\n        ComponentsModule,\n        ApperyioDeclarablesModule,\n        CustomComponentsModule,\n        CustomModulesModule, RouterModule.forChild([{\n            path: '',\n            component: Map\n        }]),\n        ApperyioTranslateModule\n    ],\n    exports: [\n        Map\n    ]\n})\nexport class MapPageModule {}","import {\n    Component\n} from '@angular/core';\nimport {\n    ChangeDetectorRef\n} from '@angular/core';\nimport {\n    ApperyioHelperService\n} from '../scripts/apperyio/apperyio_helper';\nimport {\n    ApperyioMappingHelperService\n} from '../scripts/apperyio/apperyio_mapping_helper';\nimport {\n    $aio_empty_object\n} from '../scripts/interfaces';\nimport {\n    ViewChild\n} from '@angular/core';\ndeclare var google: any;\n@Component({\n    templateUrl: 'Map.html',\n    selector: 'page-map',\n    styleUrls: ['Map.scss']\n})\nexport class Map {\n    public markers: any;\n    public aioChangeDetector: ChangeDetectorRef;\n    public currentItem: any = null;\n    public mappingData: any = {};\n    public __getMapping(_currentItem, property, defaultValue, isVariable?, isSelected?) {\n        return this.$aio_mappingHelper.getMapping(this.mappingData, _currentItem, property, defaultValue, isVariable, isSelected);\n    }\n    public __isPropertyInMapping(_currentItem, property) {\n        return this.$aio_mappingHelper.isPropertyInMapping(this.mappingData, _currentItem, property);\n    }\n    public __setMapping(data: any = {}, keyName: string, propName?: string): void {\n        const changes = data.detail || {};\n        if (propName) {\n            this.mappingData = this.$aio_mappingHelper.updateData(this.mappingData, [keyName], changes[propName]);\n        } else {\n            this.mappingData = this.$aio_mappingHelper.updateData(this.mappingData, [keyName], changes.value);\n        }\n        this.$aio_changeDetector.detectChanges();\n    }\n    constructor(public Apperyio: ApperyioHelperService, private $aio_mappingHelper: ApperyioMappingHelperService, private $aio_changeDetector: ChangeDetectorRef) {\n        this.markers = [];\n        this.aioChangeDetector = this.$aio_changeDetector;\n    }\n    ionViewDidEnter() {\n        this.pageIonViewDidEnter__j_29();\n    }\n    async pageIonViewDidEnter__j_29(event?, currentItem?) {\n        let __aio_tmp_val__: any;\n        /* Invoke data service */\n        this.invokeService_geoService();\n    }\n    async googlemapMapClick__j_31(event?, currentItem?) {\n        let __aio_tmp_val__: any;\n        /* Run TypeScript */\n        const self = this;\n        const alert = await this.Apperyio.getController(\"AlertController\").create({\n            header: 'Add Location',\n            inputs: [{\n                name: 'name',\n                type: 'text',\n                placeholder: 'Location Name'\n            }],\n            buttons: [{\n                text: 'Cancel',\n                role: 'cancel',\n                cssClass: 'secondary',\n                handler: () => {\n                    console.log('Confirm Cancel');\n                }\n            }, {\n                text: 'Add',\n                handler: (res) => {\n                    if (res.name && res.name.length) {\n                        self.markers.push({\n                            name: res.name,\n                            latitude: event.coords.lat,\n                            longitude: event.coords.lng\n                        });\n                    } else {\n                        this.Apperyio.getController(\"ToastController\").create({\n                            header: 'Warning',\n                            message: 'Name is required',\n                            position: 'bottom',\n                            color: 'danger',\n                            duration: 2000\n                        }).then(toast => toast.present());\n                        return false;\n                    }\n                }\n            }]\n        });\n        await alert.present();\n    }\n    private $aio_dataServices = {\n        \"geoService\": \"invokeService_geoService\"\n    }\n    invokeService_geoService(cb?: Function) {\n        this.Apperyio.getService(\"GeoService_Google_Map\").then(\n            async (service) => {\n                if (!service) {\n                    console.log(\"Error. Service was not found.\");\n                    return;\n                }\n                let data = {};\n                let __aio_tmp_val__: any;\n                service.execute({\n                    data: data\n                }).subscribe(\n                    /* onsuccess */\n                    async (res: any) => {\n                        let mappingData: any = {};\n                        /* Mapping */\n                        mappingData.j_31__center_latitude = () => this.$aio_mappingHelper.getSubdata(res, [\"latitude\"]);\n                        mappingData.j_31__center_longitude = () => this.$aio_mappingHelper.getSubdata(res, [\"longitude\"]);\n                        /* Run TypeScript */\n                        this.markers.push({\n                            name: 'You are here',\n                            latitude: res.latitude,\n                            longitude: res.longitude\n                        });\n                        this.mappingData = { ...this.mappingData,\n                            ...mappingData\n                        };\n                        if (cb && typeof cb === \"function\") cb(res);\n                    },\n                    (err: any) => {\n                        console.log(err);\n                    }\n                )\n            }\n        );\n    }\n}","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Styles properties */\\n/* Custom SCSS */\\n.full_screen {\\n  height: 100%;\\n  width: 100%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/Map/Map.scss\"],\"names\":[],\"mappings\":\"AAGA,sBAAA;AAEA,gBAAA;AACA;EACI,YAAA;EACA,WAAA;AAHJ\",\"sourcesContent\":[\"/* Styles properties */\\n/* Custom SCSS */\\n.full_screen {\\n  height: 100%;\\n  width: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","CommonModule","FormsModule","RouterModule","IonicModule","ApperyioTranslateModule","ApperyioDeclarablesModule","AgmCoreModule","Map","PipesModule","DirectivesModule","ComponentsModule","CustomComponentsModule","CustomModulesModule","MapPageModule","declarations","imports","forChild","path","component","exports","Component","ChangeDetectorRef","ApperyioHelperService","ApperyioMappingHelperService","Apperyio","$aio_mappingHelper","$aio_changeDetector","markers","aioChangeDetector","currentItem","mappingData","__getMapping","_currentItem","property","defaultValue","isVariable","isSelected","getMapping","__isPropertyInMapping","isPropertyInMapping","__setMapping","data","keyName","propName","changes","detail","updateData","value","detectChanges","constructor","ionViewDidEnter","pageIonViewDidEnter__j_29","event","__aio_tmp_val__","invokeService_geoService","googlemapMapClick__j_31","self","alert","getController","create","header","inputs","name","type","placeholder","buttons","text","role","cssClass","handler","console","log","res","length","push","latitude","coords","lat","longitude","lng","message","position","color","duration","then","toast","present","$aio_dataServices","cb","getService","service","execute","subscribe","j_31__center_latitude","getSubdata","j_31__center_longitude","err","template","selector"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}